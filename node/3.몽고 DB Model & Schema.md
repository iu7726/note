# Model & Schema

## 개요

Mongoose에서는 Schema와 Model이라는 개념이 존재합니다.

### Schema

해당 컬렉션의 문서에 어떤 종류의 값이 들어가는지를 정의합니다.

```javascript
var postSchema = new Schema({
    title:  {
        type:   String,
        maxlength: 50
    }
    content: {
        type: String
    }
});
```

### Model

선언한 스키마를 통해 만드는 인스턴스입니다.

```javascript
let Post = mongoose.model('Post', postSchema);
```

## 실습 예제

path : `Models/user.js`

```javascript
const mongoose = require("mongoose");

const userSchema = mongoose.Schema({
    name:{
        type: String,
        maxlength: 50
    },
    email:{
        type: String,
        trim: true, //공백을 삭제합니다.
        unique: 1,
    },
    password: {
        type: String,
        maxlength: 5
    },
    lastname: {
        type: String,
        maxlength: 50
    },
    role: {
        //권한
        type: Number,
        default:0
    },
    image: String,
    token: {
        type: String
    },
    tokenExp: {
        type: Number
    }
});

const User = mongoose.model('User', userSchema);

//다른곳에서 사용할 수 있도록 exports
module.exports = { user }
```

